<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Those Who Wander</title>

    <!-- Favicon for most browsers -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">

    <!-- Favicon for Safari & Apple Devices -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">

    <!-- Android Chrome Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="assets/images/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/images/android-chrome-512x512.png">

    <!-- Standard .ico file -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">

    <!-- Web App Manifest (optional for PWA support) -->
    <link rel="manifest" href="assets/images/site.webmanifest">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="background"></div> <!-- Background Fade-in -->
    <div id="dimming-overlay"></div> <!-- Background dimming overlay -->

    <!-- Main Navigation -->
    <nav class="main-nav">
        <ul>
            <li><a href="#hero">Home</a></li>
            <li><a href="#trailer">Trailer</a></li>
            <li><a href="#screenshots">Screenshots</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="section">
        <div class="content">
            <p class="small-text">MYKD</p>
            
            <!-- Image Title Instead of Text -->
            <img src="assets/images/titleImage.png" alt="All Those Who Wander" class="title-image fade-slide">
            
            <p class="subtext">Coming soon</p>
            <a href="#" class="button">STEAM STORE →</a>
        </div>
    </section>

    <!-- Trailer Section - Firewatch Style -->
    <section id="trailer" class="section">
        <div class="section-content">
            <h2>Experience the Journey</h2>
            <div class="trailer-container">
                <iframe 
                    width="100%" 
                    height="100%" 
                    src="https://www.youtube.com/embed/VoiSJieCxT0?si=TV4xzM2RlNIbpTel" 
                    title="All Those Who Wander - Official Trailer" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </section>

    <!-- Screenshots Section - Firewatch Grid Style -->
    <section id="screenshots" class="section">
        <div class="section-content">
            <h2>Explore the World</h2>
            <div class="screenshots-grid">
                <!-- Replace with your actual screenshots -->
                <div class="screenshot-item">
                    <img src="assets/images/screenshot1.png" alt="Screenshot 1">
                </div>
                <div class="screenshot-item">
                    <img src="assets/images/screenshot2.png" alt="Screenshot 2">
                </div>
                <div class="screenshot-item">
                    <img src="assets/images/screenshot3.png" alt="Screenshot 3">
                </div>
                <!-- Add more screenshots as needed -->
            </div>
        </div>
    </section>

    <!-- Game Description Section -->
    <section id="description" class="section">
        <div class="section-content">
            <h2>About the Game</h2>
            <div class="description-content">
                <p>Venture into a vast, open world where nature is both your home and your canvas. Gather materials, create stunning art installations, and uncover remnants of a forgotten past. Tame gentle wildlife, fish in quiet waters, and let the landscape inspire you. No enemies, no rush—just you, your creativity, and the journey ahead.</p>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer>
        <div class="footer-content">
            <p>© 2025 All Those Who Wander</p>
            <div class="social-links">
                <a href="#" class="social-link">Twitter</a>
                <a href="#" class="social-link">Discord</a>
                <a href="#" class="social-link">YouTube</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Background Fade-in
            let bg = document.getElementById("background");
            setTimeout(() => {
                bg.style.opacity = "1";
            }, 300);

            // Trigger fade-in animations
            document.querySelectorAll(".fade-slide").forEach((el) => {
                el.classList.add("visible");
            });

            // Ensure body fade-in happens after page load
            document.body.classList.add("loaded");
            
            // Set up smooth scrolling for internal links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
            
            // Prepare lightbox slides
            prepareSlides();
            
            // Handle scroll effects
            window.addEventListener('scroll', handleScroll);
            handleScroll(); // Initial check
        });
        
        // Handle scroll effects
        function handleScroll() {
            // Reveal sections
            const sections = document.querySelectorAll('.section');
            const windowHeight = window.innerHeight;
            
            sections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                const sectionBottom = section.getBoundingClientRect().bottom;
                
                // Check if section is partially visible in viewport
                if (sectionTop < windowHeight * 0.8 && sectionBottom > 0) {
                    section.classList.add('visible');
                }
            });
            
            // Handle dimming overlay
            const scrollPosition = window.scrollY;
            const totalHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercentage = Math.min(scrollPosition / (totalHeight * 0.5), 1);
            
            const dimmingOverlay = document.getElementById('dimming-overlay');
            dimmingOverlay.style.opacity = scrollPercentage;
        }
        
        // Lightbox functionality
        let currentSlide = 0;
        const screenshots = [
            'assets/images/screenshot1.png',
            'assets/images/screenshot2.png',
            'assets/images/screenshot3.png'
            // Add more screenshots as needed
        ];
        
        function prepareSlides() {
            const slideContainer = document.querySelector('.slide-container');
            
            // Clear existing content
            slideContainer.innerHTML = '';
            
            // Create slide images
            screenshots.forEach((src, index) => {
                const img = document.createElement('img');
                img.src = src;
                img.alt = `Screenshot ${index + 1}`;
                img.className = index === 0 ? 'active' : '';
                slideContainer.appendChild(img);
            });
            
            updateCounter();
        }
        
        function openLightbox(index) {
            const lightbox = document.getElementById('lightbox');
            currentSlide = index;
            
            // Show the current slide
            const slides = document.querySelectorAll('.slide-container img');
            slides.forEach((slide, idx) => {
                slide.className = idx === currentSlide ? 'active' : '';
            });
            
            updateCounter();
            
            // Display the lightbox
            lightbox.classList.add('active');
            
            // Prevent page scrolling when lightbox is open
            document.body.style.overflow = 'hidden';
            
            // Add keyboard controls
            document.addEventListener('keydown', handleKeyPress);
        }
        
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            
            // Re-enable page scrolling
            document.body.style.overflow = '';
            
            // Remove keyboard event listener
            document.removeEventListener('keydown', handleKeyPress);
        }
        
        function changeSlide(direction) {
            const slides = document.querySelectorAll('.slide-container img');
            
            // Hide current slide
            slides[currentSlide].className = '';
            
            // Calculate new slide index
            currentSlide = (currentSlide + direction + slides.length) % slides.length;
            
            // Show new slide
            slides[currentSlide].className = 'active';
            
            updateCounter();
        }
        
        function updateCounter() {
            const counter = document.querySelector('.slide-counter');
            counter.textContent = `${currentSlide + 1} / ${screenshots.length}`;
        }
        
        function handleKeyPress(e) {
            if (e.key === 'Escape') {
                closeLightbox();
            } else if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        }
    </script>
</body>
</html>